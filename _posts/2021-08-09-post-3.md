---
layout: post
title: 폴리오미노(알고스팟 문제 ID:POLY)
subtitle: 알고리즘 문제풀이
tags: [개발,알고리즘,동적계획법]
comments: true
---    

## 문제
정사각형들의 변들을 서로 완전하게 붙여 만든 도형들을 폴리오미노(Polyomino)라고 부릅니다. n개의 정사각형으로 구성된 폴리오미노들을 만들려고하는데, 이 중 세로로 단조(monotone)인 폴리오미노의 수가 몇 개나 되는지 세고 싶습니다. 세로로 단조라는 말은 어떤 가로줄도 폴리오미노를 두 번 이상 교차하지 않는다는 뜻입니다.
![poly](/assets/img/poly.png)  
예를 들어 그림 (a)는 정상적인 세로 단조 폴리오미노입니다. 그러나 (b)는 점선이 폴리오미노를 두 번 교차하기 때문에 세로 단조 폴리오미노가 아닙니다. (c)는 맨 오른쪽 아래 있는 정사각형이 다른 정사각형과 변을 완전히 맞대고 있지 않기 때문에 폴리오미노가 아닙니다.

n개의 정사각형으로 구성된 세로 단조 폴리오미노의 개수를 세는 프로그램을 작성하세요.

## 입력
입력의 첫 줄에는 테스트 케이스의 수 C (1≤C≤50)가 주어집니다. 그 후 각 줄에 폴리오미노를 구성할 정사각형의 수 n (1≤n≤100)이 주어집니다.
## 출력

각 테스트 케이스마다, n개의 정사각형으로 구성된 세로 단조 폴리오미노의 수를 출력합니다. 폴리오미노의 수가 10,000,000 이상일 경우 10,000,000으로 나눈 나머지를 출력합니다.
## 예제 입력
3  
2  
4  
92  
## 예제 출력
2  
19  
4841817  
## 풀이 소스코드  
<script src="https://gist.github.com/overflow218/66842d0858f2d8d8f0dbafc97d1b9249.js"></script>

## 문제 설명

위의 문제 설명을 보면, 세로 단조 폴리오미노가 되기 위해서는 각 가로줄에 있는 블록들끼리는 한줄로 붙어있는 형태가 되어야 한다는 것을 알 수 있다.
그렇다면 우선 각 가로줄마다 몇 개의 블록을 사용할지를 결정해야 한다. 또한 위의 그림 (a)를 보면, 맨 위줄의 블록 위치가 바뀌면 서로 다른 폴리오미노가 된다는 것을 알 수 있다.
이를 종합해보면 전체 n개의 블록이 주어졌을때, 맨 윗줄에 몇 개의 블록을 사용할지를 먼저 정해야 한다. 또 그 아래줄에 몇 개의 블록을 사용할지 정한 뒤, 위치를 움직일수 있는 경우의 수를 곱해서 더해주면 재귀적으로 문제를 풀 수 있는 실마리를 찾을 수 있다.
poly(n, m)은 전체 블록이 n개이고 맨 윗줄의 블록 개수가 m개인 세로단조 폴리오미노의 개수라고 정의하자. 맨위에는 m개의 블록을 놓을거니까 남은 블록은 (n - m)개가 된다. 
만약 두번째 줄에 x개의 블록이 놓인다면 가능한 폴리오미노의 개수는 (m + x - 1) * poly(n - m, x)가 된다. 가능한 x의 범위는 1 ... n - m 까지다. poly(n, m) = (m + x - 1) * poly(n - m, x) (x = 1 .. n - m)을 모두 더한 값이다. poly(n -m, x) 역시 이와 같은 방법으로 재귀적으로 구해주면 된다. 이 재귀함수의 기저사례는 n 과 m이 같아서 1줄로 세우는 경우 딱 1가지만 있는 경우이다. 
 
## 문제 출처  
<a href="https://www.algospot.com/judge/problem/read/POLY"> 문제 링크 </a>
